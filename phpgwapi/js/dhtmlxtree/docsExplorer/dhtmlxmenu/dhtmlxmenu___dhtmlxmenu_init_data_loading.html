<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><link rel="stylesheet" href="../codebase/default.css" type="text/css" media="screen" title="no title" charset="utf-8"><title>
    dhtmlxmenu:dhtmlxmenu_init_data_loading    [DHX documentation]
  </title></head>

<body>
<div class="dokuwiki">
  
  <div class="stylehead">

    <div class="header">
    <a class="logo" href="http://dhtmlx.com" title="DHTMLX Home Page"></a>
    <span class="tittle-dhtmlx">DHTMLX Docs & Samples Explorer</span>

    <div class="search-field">
        <form action="/dhtmlx/docs/doku.php" accept-charset="utf-8" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" title="Search" /><button type="submit"></button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>    </div>
        <div class="buttons">
                <a class="doc"></a>
                <a title="DHTMLX Samples homepage" href="../samples.html" class="sample"/></a>
        </div>
     <!-- <div class="pagename">
        [[<a href="#"  title="Backlinks">dhtmlxmenu:dhtmlxmenu_init_data_loading</a>]]
      </div>
      <div class="logo">
        <a href="/dhtmlx/docs/doku.php"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">DHX documentation</a>      </div>

      <div class="clearer"></div>-->
        
    </div>

    
<!--   <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
        <form class="button btn_edit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" /></div></form>        <form class="button btn_revs" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>      </div>

      <div class="bar-right" id="bar__topright">
        <form class="button btn_recent" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="recent" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [R]" /></div></form>        <form action="/dhtmlx/docs/doku.php" accept-charset="utf-8" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" title="Search" /><button type="submit"></button><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>&nbsp;
      </div>

      <div class="clearer"></div>
    </div> -->

<!--        <div class="breadcrumbs">
      <span class="bchead">Trace:</span> <span class="bcsep">&raquo;</span> <span class="curid"><a href="/dhtmlx/docs/doku.php?id=dhtmlxmenu:dhtmlxmenu_init_data_loading"  class="breadcrumbs" title="dhtmlxmenu:dhtmlxmenu_init_data_loading">dhtmlxmenu_init_data_loading</a></span>    </div>
    -->

    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    
<p>
<div class='backlinks'><div class='backlink last_backlink'><img src="icons___file.gif"  class="media" alt="" /><a href="../index.html" class="wikilink1" title="start">Index</a></div><div class='arrow'></div><div class='backlink last_backlink'><img src="icons___menu.gif"  class="media" alt="" /><a href="index.html" class="wikilink1" title="dhtmlxmenu:toc">dhtmlxmenu</a></div></div>

</p>

<h2><a name="data_loading" id="data_loading">Data Loading</a></h2>
<div class="level2">

<p>

The next step of initialization of dhtmlxMenu component is Data Loading. The user can choose one of 5 data loading possibilities:
</p>
<ul>
<li class="level1"><div class="li">  From external <acronym title="Extensible Markup Language">XML</acronym> file (with Ajax);</div>
</li>
<li class="level1"><div class="li">  From <acronym title="Extensible Markup Language">XML</acronym> string;</div>
</li>
<li class="level1"><div class="li">  From <acronym title="HyperText Markup Language">HTML</acronym> object; </div>
</li>
<li class="level1"><div class="li">  From Script;</div>
</li>
<li class="level1"><div class="li">  Dynamical loading (with Ajax).</div>
</li>
</ul>

</div>

<h4><a name="data_loading_from_xml_file" id="data_loading_from_xml_file">Data Loading from XML File</a></h4>
<div class="level4">

<p>

loadXML() method loads menu data from an <acronym title="Extensible Markup Language">XML</acronym> file. When the data is loaded into the object, a user-defined handler is called onLoadFunction, if it was indicated by the user. All the data is loaded at once.
</p>
<pre class="code javascript">    <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
        menu.<span class="me1">loadXML</span><span class="br0">&#40;</span><span class="st0">&quot;path/to/file/file.xml&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
            <span class="co1">// will called if specified after menu will completely loaded</span>
        <span class="br0">&#125;</span><span class="br0">&#41;</span>;
        <span class="co1">// or</span>
        onLoadFunction <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
            <span class="co1">// will called if specified after menu will completely loaded</span>
        <span class="br0">&#125;</span>
        menu.<span class="me1">loadXML</span><span class="br0">&#40;</span><span class="st0">&quot;path/to/file/file.xml&quot;</span><span class="sy0">,</span> onLoadFunction<span class="br0">&#41;</span>;
    <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
<p>
The first parameter of loadXML() method is the path to the <acronym title="Extensible Markup Language">XML</acronym> file, while the second parameter is an optional user-defined handler.
<img src="/dhtmlx/docs/lib/images/smileys/icon_question.gif" class="middle" alt=":?:" /> See <a href="dhtmlxmenu___xml_format_template.html" class="wikilink1" title="dhtmlxmenu:xml_format_template">here</a> for <acronym title="Extensible Markup Language">XML</acronym> Format Template.
</p>

</div>

<h4><a name="data_loading_from_xml_string" id="data_loading_from_xml_string">Data Loading from XML String</a></h4>
<div class="level4">

<p>

loadXMLString() method is the same as loadXML, but lloads menu data from the <acronym title="Extensible Markup Language">XML</acronym> string. All the data is loaded at once.
</p>
<pre class="code javascript">    <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
        onLoadFunction <span class="sy0">=</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
            <span class="co1">// will be called if specified</span>
        <span class="br0">&#125;</span>
        menu.<span class="me1">loadXMLString</span><span class="br0">&#40;</span><span class="st0">&quot;&lt;menu&gt;&lt;item....&gt;&quot;</span><span class="sy0">,</span> onLoadFunction<span class="br0">&#41;</span>;
    <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
<p>
The first parameter for loadXMLString() method is the <acronym title="Extensible Markup Language">XML</acronym> string from our html file, while the second parameter is an optional user-defined handler.
<img src="/dhtmlx/docs/lib/images/smileys/icon_question.gif" class="middle" alt=":?:" /> See <a href="dhtmlxmenu___xml_format_template.html" class="wikilink1" title="dhtmlxmenu:xml_format_template">here</a> for <acronym title="Extensible Markup Language">XML</acronym> Format Template.
</p>

</div>

<h4><a name="data_loading_from_html_object" id="data_loading_from_html_object">Data Loading from HTML Object</a></h4>
<div class="level4">

<p>

loadFromHTML() method loads content from <acronym title="HyperText Markup Language">HTML</acronym> object to the menu. First, the user should create this <acronym title="HyperText Markup Language">HTML</acronym> object. For example:
</p>
<pre class="code html4strict">    <span class="sc2">&lt;<a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span> 
        <span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;menuData&quot;</span> <span class="kw3">style</span><span class="sy0">=</span><span class="st0">&quot;display: none;&quot;</span>&gt;</span>  
            <span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;m1&quot;</span> <span class="kw3">text</span><span class="sy0">=</span><span class="st0">&quot;File&quot;</span>&gt;</span> // the first top menu item
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;m11&quot;</span> <span class="kw3">text</span><span class="sy0">=</span><span class="st0">&quot;New&quot;</span> &lt;hotkey&gt;</span>Ctrl+N<span class="sc2">&lt;<span class="sy0">/</span>hotkey&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>// the first child item
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;ms1&quot;</span> <span class="kw3">type</span><span class="sy0">=</span><span class="st0">&quot;separator&quot;</span>&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span> // a separator	
               <span class="sc2">&lt;<a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a> <span class="kw3">id</span><span class="sy0">=</span><span class="st0">&quot;m12&quot;</span> <span class="kw3">text</span><span class="sy0">=</span><span class="st0">&quot;Open&quot;</span>&gt;&lt;hotkey&gt;</span>Ctrl+O<span class="sc2">&lt;<span class="sy0">/</span>hotkey&gt;&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span> // the second child item  
            <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>    
        <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/div.html"><span class="kw2">div</span></a>&gt;</span>
    <span class="sc2">&lt;<span class="sy0">/</span><a href="http://december.com/html/4/element/body.html"><span class="kw2">body</span></a>&gt;</span></pre>
<p>
Then loadFromHTML() should be applied with the following parameters:
</p>
<ul>
<li class="level1"><div class="li">  objectId - id of data container (“menuData” in our case);</div>
</li>
<li class="level1"><div class="li">  clear - true|false, removes <acronym title="HyperText Markup Language">HTML</acronym> object after data was loaded, if this parameter is set to true;</div>
</li>
<li class="level1"><div class="li">  onLoadFunction - a user-defined handler, which will be called, when the data is loaded (optional).</div>
</li>
</ul>
<pre class="code javascript">    <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
        menu.<span class="me1">loadFromHTML</span><span class="br0">&#40;</span><span class="st0">&quot;menuData&quot;</span><span class="sy0">,</span> <span class="kw2">true</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
            <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">&quot;Menu was loaded from HTML Object.&quot;</span><span class="br0">&#41;</span>;
        <span class="br0">&#125;</span><span class="br0">&#41;</span>;
    <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
</div>

<h4><a name="data_loading_from_script" id="data_loading_from_script">Data Loading from Script</a></h4>
<div class="level4">

<p>

Loading data from script means that the user should write a special method for adding every menu item. In our example to add a new sibling item, a child item, a new separator and set a hotkey, we should write the following:

</p>
<pre class="code javascript">      <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
          menu.<span class="me1">addNewSibling</span><span class="br0">&#40;</span><span class="kw2">null</span><span class="sy0">,</span> <span class="st0">&quot;file&quot;</span><span class="sy0">,</span> <span class="st0">&quot;File&quot;</span><span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span>; <span class="co1">// adding the first item to the menu, &quot;nextToId&quot; param is null</span>
          menu.<span class="me1">addNewChild</span><span class="br0">&#40;</span><span class="st0">&quot;file&quot;</span><span class="sy0">,</span> 0<span class="sy0">,</span> <span class="st0">&quot;file_new&quot;</span><span class="sy0">,</span> <span class="st0">&quot;New&quot;</span><span class="sy0">,</span> <span class="kw2">false</span><span class="br0">&#41;</span>; <span class="co1">// adding a new child item</span>
          menu.<span class="me1">setHotKey</span><span class="br0">&#40;</span><span class="st0">&quot;file_new&quot;</span><span class="sy0">,</span> <span class="st0">&quot;Ctrl+N&quot;</span><span class="br0">&#41;</span>; <span class="co1">// setting a hotkey to a button</span>
          menu.<span class="me1">addNewSeparator</span><span class="br0">&#40;</span><span class="st0">&quot;file_new&quot;</span><span class="br0">&#41;</span>; <span class="co1">// adding a separator</span>
      <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
<p>
Refer to the section Items Settings Manipulations to learn about the methods used in the above mentioned snippet.
</p>

<p>
Adding first menu item with script:
</p>
<pre class="code javascript">    <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
        <span class="co1">// init dhtmlxMenu</span>
        <span class="kw2">var</span> menu <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXMenuObject<span class="br0">&#40;</span><span class="br0">&#41;</span>;
        <span class="co1">// adding first top-level item</span>
        menu.<span class="me1">addNewSibling</span><span class="br0">&#40;</span><span class="kw2">null</span><span class="sy0">,</span> <span class="st0">&quot;itemId&quot;</span><span class="sy0">,</span> <span class="st0">&quot;itemText&quot;</span><span class="br0">&#41;</span>;
        <span class="co1">// or</span>
        menu.<span class="me1">addNewChild</span><span class="br0">&#40;</span><span class="kw2">null</span><span class="sy0">,</span> 0<span class="sy0">,</span> <span class="st0">&quot;itemId&quot;</span><span class="sy0">,</span> <span class="st0">&quot;itemText&quot;</span><span class="br0">&#41;</span>;         
        <span class="co1">// adding first sub-level chechbox/radiobutton</span>
        menu.<span class="me1">addCheckbox</span><span class="br0">&#40;</span><span class="st0">&quot;child&quot;</span><span class="sy0">,</span> <span class="st0">&quot;nextToId&quot;</span><span class="sy0">,</span> 0<span class="sy0">,</span> <span class="st0">&quot;itemId&quot;</span><span class="sy0">,</span> <span class="st0">&quot;itemText&quot;</span><span class="br0">&#41;</span>;
        menu.<span class="me1">addRadioButton</span><span class="br0">&#40;</span><span class="st0">&quot;child&quot;</span><span class="sy0">,</span> <span class="st0">&quot;nextToId&quot;</span><span class="sy0">,</span> 0<span class="sy0">,</span> <span class="st0">&quot;itemId&quot;</span><span class="sy0">,</span> <span class="st0">&quot;itemText&quot;</span><span class="br0">&#41;</span>;
    <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
</div>

<h4><a name="dynamical_loading" id="dynamical_loading">Dynamical Loading</a></h4>
<div class="level4">

<p>

Dynamical loading means loading data on request. The user can split data into parts by levels and decrease loading time this way.
enableDynamicLoading() method should be used with the following parameters:
</p>
<ul>
<li class="level1"><div class="li">  url - server-side script, transmitted parameters are action (set to “loadMenu”) and “parentId” (will pass id of the selected complex item for loading its child items into sub-level polygon);</div>
</li>
<li class="level1"><div class="li">  icon - true|false, replaces item&#039;s arrow icon while loading data with a “loading” icon to indicate the process of data loading.</div>
</li>
</ul>
<pre class="code javascript">      <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
          menu.<span class="me1">enableDynamicLoading</span><span class="br0">&#40;</span>url<span class="sy0">,</span> icon<span class="br0">&#41;</span>;
      <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
<p>
So, in our case we should write this line of code (without an icon):
</p>
<pre class="code javascript">      <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
          menu.<span class="me1">enableDynamicLoading</span><span class="br0">&#40;</span><span class="st0">&quot;[script url]&quot;</span><span class="br0">&#41;</span>;
      <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
</div>

<h4><a name="onloadfunction" id="onloadfunction">onLoadFunction()</a></h4>
<div class="level4">

<p>

onLoadFunction() is a user-defined handler that is called after the data was loaded into the object:
</p>
<pre class="code javascript">      <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
          menu.<span class="me1">loadXML</span><span class="br0">&#40;</span><span class="st0">&quot;file.xml&quot;</span><span class="sy0">,</span> <span class="kw2">function</span><span class="br0">&#40;</span><span class="br0">&#41;</span><span class="br0">&#123;</span>
              <span class="kw3">alert</span><span class="br0">&#40;</span><span class="st0">&quot;the data is loaded&quot;</span><span class="br0">&#41;</span>; <span class="co1">// will be invoked after XML file was loaded (after onXLE, if specified)</span>
          <span class="br0">&#125;</span><span class="br0">&#41;</span>; 
      <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
</div>

<h4><a name="clearing_menu" id="clearing_menu">Clearing Menu</a></h4>
<div class="level4">

<p>

To remove all loaded items from menu users should call clearAll() method. Meanwhile users are allowed to load another <acronym title="Extensible Markup Language">XML</acronym>:

</p>
<pre class="code javascript">    <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
        menu.<span class="me1">clearAll</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
    <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
</div>

<h4><a name="unloading_menu" id="unloading_menu">Unloading Menu</a></h4>
<div class="level4">

<p>

unloadMenu() method gives the possibility to unload the component completely:
</p>
<pre class="code javascript">    <span class="sy0">&lt;</span>script<span class="sy0">&gt;</span>
        <span class="kw2">var</span> menu <span class="sy0">=</span> <span class="kw2">new</span> dhtmlXMenuObject<span class="br0">&#40;</span><span class="br0">&#41;</span>;
        ...
        <span class="co1">// unload menu</span>
        menu.<span class="me1">unload</span><span class="br0">&#40;</span><span class="br0">&#41;</span>;
        menu <span class="sy0">=</span> <span class="kw2">null</span>; 
    <span class="sy0">&lt;/</span>script<span class="sy0">&gt;</span></pre>
</div>
<div class="secedit"><form class="button btn_secedit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="lines" value="53-" /><input type="hidden" name="rev" value="1279031290" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Edit" class="button" title="Data Loading" /></div></form></div>
    <!-- wikipage stop -->
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
     <!-- <div class="doc">
        dhtmlxmenu/dhtmlxmenu_init_data_loading.txt &middot; Last modified: 2010/07/13 17:28 (external edit)      </div>
    </div>-->

   
    <!--<div class="bar" id="bar__bottom">-->
      <!--<div class="bar-left" id="bar__bottomleft">-->
        <!--<form class="button btn_edit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" /></div></form>-->
        <!--<form class="button btn_revs" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>-->
      <!--</div>-->
      <!--<div class="bar-right" id="bar__bottomright">-->
        <!---->
        <!---->
        <!---->
        <!---->
        <!---->
        <!--<form class="button btn_index" method="get" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="index" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Index" class="button" accesskey="x" title="Index [X]" /></div></form>-->
        <!--<a class="nolink" href="#dokuwiki__top"><input type="button" class="button" value="Back to top" onclick="window.scrollTo(0, 0)" title="Back to top" /></a>&nbsp;-->
      <!--</div>-->
      <!--<div class="clearer"></div>-->
    <!--</div>-->

  </div>

  

</div>

<div class="footerinc">


</div>

<div class="no"><img src="/dhtmlx/docs/lib/exe/indexer.php?id=dhtmlxmenu%3Adhtmlxmenu_init_data_loading&amp;1279804902" width="1" height="1" alt=""  /></div>
     <div class="footer">
        <div class="footer-logo"></div>
        <div class="copyright">Copyright © 1998-2009 DHTMLX LTD.<br />All rights reserved.</div>
        <form class="button btn_edit" method="post" action="/dhtmlx/docs/doku.php"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="dhtmlxmenu:dhtmlxmenu_init_data_loading" /><input type="submit" value="Edit this page" class="button" accesskey="e" title="Edit this page [E]" /></div></form>    	    </div>
</body>
</html>
